components:
  schemas:
    ProblemDetailsTypes:
      type: string
      description: codes of the error
      enum:
        - 'data:E-00-01'
        - 'data:E-00-02'
        - 'data:E-00-03'

        - 'data:E-01-01'

        - 'data:E-02-01'
        - 'data:E-02-02'
        - 'data:E-02-03'
      x-enum-varnames:
        - INTERNAL_ERROR
        - FORBIDDEN
        - UNAUTHORIZED

        - PRODUCT_NOT_FOUND

        - REVIEW_NOT_FOUND
        - REVIEW_ALREADY_EXISTS
        - FORBIDDEN_REVIEW_OPERATION

    ProblemDetails:
      type: object
      required:
        - type
        - status
        - title
        - detail
        - instance
      properties:
        code:
          $ref: '#/components/schemas/ProblemDetailsTypes'
        status:
          type: integer
          description: HTTP status code generated by the origin server for this occurrence of the problem
        title:
          type: string
          description: Short, human-readable summary of the problem type
        detail:
          type: string
          description: Human-readable explanation specific to this occurrence of the problem
        instance:
          type: string
          description: URI reference that identifies the specific occurrence of the problem

  responses:

    ProblemDetailsResponse:
      description: Problem Details Response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProblemDetails'
          examples:
            BadRequestExample:
              summary: Bad request
              value:
                "type": "data:E-00-00",
                "title": "Bad Request",
                "status": 400,
                "detail": "Detail about bad request error",
                "instance": "/uri/to/resource"
            UnauthorizedExample:
              summary: Unauthorized
              value:
                "type": "data:E-00-00",
                "title": "Unauthorized",
                "status": 401,
                "detail": "Detail about unauthorized error",
                "instance": "/uri/to/resource"
            ForbiddenExample:
              summary: Forbidden
              value:
                code: 'UNAUTHORIZED'
                message: 'Unauthorized operation'
            NotFoundExample:
              summary: Not Found
              value:
                "type": "data:E-00-00",
                "title": "Not Found",
                "status": 404,
                "detail": "Detail about element not found error",
                "instance": "/uri/to/resource"
            InternalErrorExample:
              summary: Internal Error
              value:
                code: 'INTERNAL_ERROR'
                message: 'There was an internal error'
